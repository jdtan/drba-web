jQuery(document).ready(function(e){({init:function(){let e=this;jQuery("#widgets-right .widget:has(.color-picker)").each(function(){e.initColorPicker(jQuery(this))}),jQuery(document).on("widget-added widget-updated",function(t,i){e.initColorPicker(i)}),e.addImage(),e.removeImage()},initColorPicker:function(e){e.find(".color-picker").wpColorPicker({change:_.throttle(function(){jQuery(this).trigger("change")},3e3)})},addImage:function(){jQuery(document).on("click",".upload_image_button",function(e){e.preventDefault();var t,i=jQuery(this);(t=wp.media.frames.downloadable_file=wp.media({title:i.attr("data-uploader-title-txt"),button:{text:i.attr("data-uploader-btn-txt")},multiple:!1})).on("select",function(){var e=t.state().get("selection").first().toJSON(),n=e.sizes.thumbnail||e.sizes.full;i.prev().trigger("change").val(e.id);var o='<img src="'+n.url+'" />';i.closest(".image-field").find(".image-preview").html(o),i.next().show()}),t.open()})},removeImage:function(){jQuery(document).on("click",".remove_image_button",function(){var e=jQuery(this);return e.closest(".image-field").find(".image-preview").html(" "),e.siblings(".img").trigger("change").val(""),e.hide(),!1})}}).init()});